{% extends "base.html" %}

{% block title %}Medperf Login{% endblock %}

{% block content %}
<div class="container min-vh-100 justify-content-center align-items-center">
    <div class="row mt-5">
        {% if redirect %}
        <div class="col-12">
            <div class="alert alert-danger text-center" role="alert">
                You are not logged in
            </div>
        </div>
        {% endif %}
        <div class="col-12 mt-5">
            <h3 class="text-center mb-4">Login</h3>
            <!-- Login form -->
            <form id="medperf-login" action="/medperf_login" method="post" class="mt-5">
                <div class="mb-3">
                    <label for="email" class="form-label">Email:</label>
                    <input type="email" id="email" name="email" class="form-control" placeholder="name@example.com" required>
                </div>

                <div class="text-center">
                    <button type="button" class="btn btn-primary" onclick="login(event);">Login</button>
                </div>
            </form>
            <div id="login-response" class="mt-5 text-center" style="display: none;">
                <p id="link-text" class="fs-5 fw-bold" style="display: none;">Please go to the following link to complete your login request:</p>
                <a id="link" href="" class="fs-5" target="_blank"></a>
                <p id="code-text" class="fs-5 fw-bold mt-5" style="display: none;">Make sure that you will be presented with the following code:</p>
                <p id="code" class="fs-2 fw-bold"></p>
                <p id="warning" class="fs-5 fw-bold text-danger" style="display: none;">
                    Keep this page open until you complete your login request.
                    <br>
                    The page will refresh on its own once you complete the request.
                    <br>
                    If you wish to stop the login request anyway, press Ctrl+C.
                </p>
            </div>
        </div>
    </div>
</div>
<script src="/static/js/app.js"></script>
{% endblock %}
